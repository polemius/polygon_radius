var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function _(){return u(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let d;function p(t){d=t}const v=[],m=[],y=[],x=[],g=Promise.resolve();let $=!1;function b(t){y.push(t)}let q=!1;const z=new Set;function M(){if(!q){q=!0;do{for(let t=0;t<v.length;t+=1){const e=v[t];p(e),N(e.$$)}for(v.length=0;m.length;)m.pop()();for(let t=0;t<y.length;t+=1){const e=y[t];z.has(e)||(z.add(e),e())}y.length=0}while(v.length);for(;x.length;)x.pop()();$=!1,q=!1,z.clear()}}function N(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(b)}}const C=new Set;function R(t,e){-1===t.$$.dirty[0]&&(v.push(t),$||($=!0,g.then(M)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function k(r,s,a,i,u,_,f=[-1]){const h=d;p(r);const v=s.props||{},m=r.$$={fragment:null,ctx:null,props:_,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:f};let y=!1;if(m.ctx=a?a(r,v,(t,e,...n)=>{const o=n.length?n[0]:e;return m.ctx&&u(m.ctx[t],m.ctx[t]=o)&&(m.bound[t]&&m.bound[t](o),y&&R(r,t)),e}):[],m.update(),y=!0,o(m.before_update),m.fragment=!!i&&i(m.ctx),s.target){if(s.hydrate){const t=function(t){return Array.from(t.childNodes)}(s.target);m.fragment&&m.fragment.l(t),t.forEach(c)}else m.fragment&&m.fragment.c();s.intro&&((x=r.$$.fragment)&&x.i&&(C.delete(x),x.i(g))),function(t,n,r){const{fragment:s,on_mount:a,on_destroy:c,after_update:i}=t.$$;s&&s.m(n,r),b(()=>{const n=a.map(e).filter(l);c?c.push(...n):o(n),t.$$.on_mount=[]}),i.forEach(b)}(r,s.target,s.anchor),M()}var x,g;p(h)}function w(t,e,n,o){return e*=Math.PI/180,[n+t*Math.cos(e),o+t*Math.sin(e)]}const E=t=>180*t/Math.PI,P=(t,e)=>t/e*100;function A(t,e){return Math.sqrt(t*t+e*e)}function I(t,e,n,o,l){const r=e/n;return{x:t.x-o*r,y:t.y-l*r}}const j=({x:t,y:e,unit:n})=>`${t.toFixed(1)}${n} ${e.toFixed(1)}${n}`;function L(t,e,n){const o=t.slice();return o[15]=e[n].x,o[16]=e[n].y,o[18]=n,o}function S(t){let e,n,l,r,d,p,v,m,y,x,g,$,b,q,z,M,N,C,R,k,w,E,P,A,I,j,L=t[18]+1+"";function S(...e){return t[12](t[18],...e)}function F(...e){return t[13](t[18],...e)}function O(){t[14].call(P,t[18])}return{c(){e=i("div"),n=i("p"),l=u(L),r=u("."),d=_(),p=i("label"),p.textContent="x:",m=_(),y=i("input"),$=_(),b=i("label"),b.textContent="y:",z=_(),M=i("input"),R=_(),k=i("label"),k.textContent="r:",E=_(),P=i("input"),I=_(),h(n,"class","home__controls__control__title svelte-v3izaq"),h(p,"class","home__controls__control__label svelte-v3izaq"),h(p,"for",v="point_"+t[18]+"_x"),h(y,"type","tel"),h(y,"class","home__controls__control__input svelte-v3izaq"),h(y,"id",x="point_"+t[18]+"_x"),y.value=g=t[1][t[18]].x,h(b,"class","home__controls__control__label svelte-v3izaq"),h(b,"for",q="point_"+t[18]+"_y"),h(M,"type","tel"),h(M,"class","home__controls__control__input svelte-v3izaq"),h(M,"id",N="point_"+t[18]+"_y"),M.value=C=t[1][t[18]].y,h(k,"class","home__controls__control__label svelte-v3izaq"),h(k,"for",w="point_"+t[18]+"_radius"),h(P,"type","checkbox"),h(P,"class","home__controls__control__input svelte-v3izaq"),h(P,"id",A="point_"+t[18]+"_radius"),h(e,"class","home__controls__control svelte-v3izaq")},m(c,i,u){a(c,e,i),s(e,n),s(n,l),s(n,r),s(e,d),s(e,p),s(e,m),s(e,y),s(e,$),s(e,b),s(e,z),s(e,M),s(e,R),s(e,k),s(e,E),s(e,P),P.checked=t[1][t[18]].isRadius,s(e,I),u&&o(j),j=[f(y,"change",S),f(M,"change",F),f(P,"change",O)]},p(e,n){t=e,2&n&&g!==(g=t[1][t[18]].x)&&(y.value=g),2&n&&C!==(C=t[1][t[18]].y)&&(M.value=C),2&n&&(P.checked=t[1][t[18]].isRadius)},d(t){t&&c(e),o(j)}}}function F(e){let n,l,r,d,p,v,m,y,x,g,$,b,q,z,M,N,C,R,k,w,E,P,A,I,j,F,O,T,B=e[1],G=[];for(let t=0;t<B.length;t+=1)G[t]=S(L(e,B,t));return{c(){n=i("main"),l=i("h1"),l.innerHTML="Generate polygon<br> with rounded corners",r=_(),d=i("div"),p=i("div"),v=i("div"),m=_(),y=i("div"),x=i("p"),x.textContent="Points",g=_(),$=i("div"),b=i("label"),b.textContent="Radius:",q=_(),z=i("input"),M=_(),N=i("span"),N.textContent="px",C=_(),R=i("div"),k=i("label"),k.textContent="Step:",w=_(),E=i("input"),P=_(),A=i("span"),A.textContent="Â°",I=_();for(let t=0;t<G.length;t+=1)G[t].c();j=_(),F=i("div"),O=u(e[0]),h(l,"class","home__title svelte-v3izaq"),h(v,"class","home__image_container__placeholder svelte-v3izaq"),h(v,"style",e[0]),h(p,"class","home__image_container svelte-v3izaq"),h(x,"class","home__controls__title svelte-v3izaq"),h(b,"class","home__controls__control__label svelte-v3izaq"),h(b,"for","set_radius"),h(z,"type","tel"),h(z,"class","home__controls__control__input svelte-v3izaq"),h(z,"id","set_radius"),z.value=e[2],h(N,"class","home__controls__control__unit svelte-v3izaq"),h($,"class","home__controls__control svelte-v3izaq"),h(k,"class","home__controls__control__label svelte-v3izaq"),h(k,"for","set_step"),h(E,"type","tel"),h(E,"class","home__controls__control__input\n          home__controls__control__input--left svelte-v3izaq"),h(E,"id","set_step"),E.value=e[3],h(A,"class","home__controls__control__unit svelte-v3izaq"),h(R,"class","home__controls__control svelte-v3izaq"),h(y,"class","home__controls svelte-v3izaq"),h(d,"class","home__container svelte-v3izaq"),h(F,"class","home__result_container svelte-v3izaq"),h(n,"class","home svelte-v3izaq")},m(t,c,i){a(t,n,c),s(n,l),s(n,r),s(n,d),s(d,p),s(p,v),s(d,m),s(d,y),s(y,x),s(y,g),s(y,$),s($,b),s($,q),s($,z),s($,M),s($,N),s(y,C),s(y,R),s(R,k),s(R,w),s(R,E),s(R,P),s(R,A),s(y,I);for(let t=0;t<G.length;t+=1)G[t].m(y,null);s(n,j),s(n,F),s(F,O),i&&o(T),T=[f(z,"change",e[10]),f(E,"change",e[11])]},p(t,[e]){if(1&e&&h(v,"style",t[0]),4&e&&(z.value=t[2]),8&e&&(E.value=t[3]),66&e){let n;for(B=t[1],n=0;n<B.length;n+=1){const o=L(t,B,n);G[n]?G[n].p(o,e):(G[n]=S(o),G[n].c(),G[n].m(y,null))}for(;n<G.length;n+=1)G[n].d(1);G.length=B.length}1&e&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(O,t[0])},i:t,o:t,d(t){t&&c(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(G,t),o(T)}}}function O(t,e,n){let o="",l="",r=[],s=[],a=20,c=10;const i=t=>{const e=Number(t);return isNaN(e)||e<0?1:e>180?180:e},u=t=>{const e=Number(t);return isNaN(t)||t<0?1:e>200?200:e};let _=(t,e,o)=>{const l=Number(t.target.value);isNaN(l)||n(1,s[o][e]=l,s)};return t.$$.update=()=>{14&t.$$.dirty&&n(8,r=s.reduce((t,e,n)=>{if(!e.isRadius)return[...t,e];const o=0===n?s.length-1:n-1,l=n===s.length-1?0:n+1,r=function(t,e,n,o,l,r,s){const a=t.x-e.x,c=t.y-e.y,i=t.x-n.x,u=t.y-n.y,_=(Math.atan2(c,a)-Math.atan2(u,i))/2,f=Math.abs(Math.tan(_));let h=o/f;const d=A(a,c),p=A(i,u),v=Math.min(d,p);h>v&&(h=v,o=v*f);const m=I(t,h,d,a,c),y=I(t,h,p,i,u),x=2*t.x-m.x-y.x,g=2*t.y-m.y-y.y,$=A(x,g),b=I(t,A(h,o),$,x,g);let q=Math.atan2(m.y-b.y,m.x-b.x),z=Math.atan2(y.y-b.y,y.x-b.x),M=z-q;if(M<0){let t=q;q=z,z=t,M=-M}M>Math.PI&&(M=Math.PI-M);let N=E(q),C=E(z);if(M<0){N<0&&(N=360+N),C<0&&(C=360+C);let t=N;N=C,C=t}const R=[];for(let t=N;t<C;t+=s){const[e,n]=w(o,t,b.x,b.y);R.push({x:P(e,l),y:P(n,r),unit:"%"})}return[...R]}(e,s[l],s[o],a,400,200,c);return[...t,...r]},[])),256&t.$$.dirty&&n(7,l=r.map(j).join(",")),128&t.$$.dirty&&n(0,o=`clip-path: polygon(${l})`)},n(1,s=[{x:0,y:40,isRadius:!0,unit:"px"},{x:400,y:0,isRadius:!0,unit:"px"},{x:400,y:200,isRadius:!0,unit:"px"},{x:0,y:160,isRadius:!0,unit:"px"}]),[o,s,a,c,i,u,_,l,r,[],t=>n(2,a=u(t.target.value)),t=>n(3,c=i(t.target.value)),(t,e)=>_(e,"x",t),(t,e)=>_(e,"y",t),function(t){s[t].isRadius=this.checked,n(1,s)}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){super(),k(this,t,O,F,r,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
