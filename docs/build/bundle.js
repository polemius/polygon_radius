var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function i(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function _(){return u(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function d(t,e){(null!=e||t.value)&&(t.value=e)}let p;function v(t){p=t}const m=[],y=[],x=[],g=[],$=Promise.resolve();let b=!1;function q(t){x.push(t)}let z=!1;const M=new Set;function C(){if(!z){z=!0;do{for(let t=0;t<m.length;t+=1){const e=m[t];v(e),R(e.$$)}for(m.length=0;y.length;)y.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];M.has(e)||(M.add(e),e())}x.length=0}while(m.length);for(;g.length;)g.pop()();b=!1,z=!1,M.clear()}}function R(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(q)}}const k=new Set;function w(t,e){-1===t.$$.dirty[0]&&(m.push(t),b||(b=!0,$.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function E(s,r,a,i,u,_,f=[-1]){const h=p;v(s);const d=r.props||{},m=s.$$={fragment:null,ctx:null,props:_,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:f};let y=!1;if(m.ctx=a?a(s,d,(t,e,...n)=>{const o=n.length?n[0]:e;return m.ctx&&u(m.ctx[t],m.ctx[t]=o)&&(m.bound[t]&&m.bound[t](o),y&&w(s,t)),e}):[],m.update(),y=!0,o(m.before_update),m.fragment=!!i&&i(m.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);m.fragment&&m.fragment.l(t),t.forEach(c)}else m.fragment&&m.fragment.c();r.intro&&((x=s.$$.fragment)&&x.i&&(k.delete(x),x.i(g))),function(t,n,s){const{fragment:r,on_mount:a,on_destroy:c,after_update:i}=t.$$;r&&r.m(n,s),q(()=>{const n=a.map(e).filter(l);c?c.push(...n):o(n),t.$$.on_mount=[]}),i.forEach(q)}(s,r.target,r.anchor),C()}var x,g;v(h)}function N(t,e,n,o){return e*=Math.PI/180,[n+t*Math.cos(e),o+t*Math.sin(e)]}const P=t=>180*t/Math.PI,A=(t,e)=>t/e*100;function I(t,e){return Math.sqrt(t*t+e*e)}function j(t,e,n,o,l){const s=e/n;return{x:t.x-o*s,y:t.y-l*s}}const L=({x:t,y:e,unit:n})=>`${t.toFixed(1)}${n} ${e.toFixed(1)}${n}`;function S(t,e,n){const o=t.slice();return o[13]=e[n].x,o[14]=e[n].y,o[16]=n,o}function F(t){let e,n,l,s,d,p,v,m,y,x,g,$,b,q,z,M,C,R,k,w,E,N,P,A,I,j,L=t[16]+1+"";function S(...e){return t[10](t[16],...e)}function F(...e){return t[11](t[16],...e)}function O(){t[12].call(P,t[16])}return{c(){e=i("div"),n=i("p"),l=u(L),s=u("."),d=_(),p=i("label"),p.textContent="x:",m=_(),y=i("input"),$=_(),b=i("label"),b.textContent="y:",z=_(),M=i("input"),k=_(),w=i("label"),w.textContent="r:",N=_(),P=i("input"),I=_(),h(n,"class","home__controls__control__title svelte-v3izaq"),h(p,"class","home__controls__control__label svelte-v3izaq"),h(p,"for",v="point_"+t[16]+"_x"),h(y,"type","tel"),h(y,"class","home__controls__control__input svelte-v3izaq"),h(y,"id",x="point_"+t[16]+"_x"),y.value=g=t[1][t[16]].x,h(b,"class","home__controls__control__label svelte-v3izaq"),h(b,"for",q="point_"+t[16]+"_y"),h(M,"type","tel"),h(M,"class","home__controls__control__input svelte-v3izaq"),h(M,"id",C="point_"+t[16]+"_y"),M.value=R=t[1][t[16]].y,h(w,"class","home__controls__control__label svelte-v3izaq"),h(w,"for",E="point_"+t[16]+"_radius"),h(P,"type","checkbox"),h(P,"class","home__controls__control__input svelte-v3izaq"),h(P,"id",A="point_"+t[16]+"_radius"),h(e,"class","home__controls__control svelte-v3izaq")},m(c,i,u){a(c,e,i),r(e,n),r(n,l),r(n,s),r(e,d),r(e,p),r(e,m),r(e,y),r(e,$),r(e,b),r(e,z),r(e,M),r(e,k),r(e,w),r(e,N),r(e,P),P.checked=t[1][t[16]].isRadius,r(e,I),u&&o(j),j=[f(y,"change",S),f(M,"change",F),f(P,"change",O)]},p(e,n){t=e,2&n&&g!==(g=t[1][t[16]].x)&&(y.value=g),2&n&&R!==(R=t[1][t[16]].y)&&(M.value=R),2&n&&(P.checked=t[1][t[16]].isRadius)},d(t){t&&c(e),o(j)}}}function O(e){let n,l,s,p,v,m,y,x,g,$,b,q,z,M,C,R,k,w,E,N,P,A,I,j,L,O,T,B,G=e[1],H=[];for(let t=0;t<G.length;t+=1)H[t]=F(S(e,G,t));return{c(){n=i("main"),l=i("h1"),l.innerHTML="Generate polygon<br> with rounded corners",s=_(),p=i("div"),v=i("div"),m=i("div"),y=_(),x=i("div"),g=i("p"),g.textContent="Points",$=_(),b=i("div"),q=i("label"),q.textContent="Radius:",z=_(),M=i("input"),C=_(),R=i("span"),R.textContent="px",k=_(),w=i("div"),E=i("label"),E.textContent="Step:",N=_(),P=i("input"),A=_(),I=i("span"),I.textContent="Â°",j=_();for(let t=0;t<H.length;t+=1)H[t].c();L=_(),O=i("div"),T=u(e[0]),h(l,"class","home__title svelte-v3izaq"),h(m,"class","home__image_container__placeholder svelte-v3izaq"),h(m,"style",e[0]),h(v,"class","home__image_container svelte-v3izaq"),h(g,"class","home__controls__title svelte-v3izaq"),h(q,"class","home__controls__control__label svelte-v3izaq"),h(q,"for","set_radius"),h(M,"type","tel"),h(M,"class","home__controls__control__input svelte-v3izaq"),h(M,"id","set_radius"),h(R,"class","home__controls__control__unit svelte-v3izaq"),h(b,"class","home__controls__control svelte-v3izaq"),h(E,"class","home__controls__control__label svelte-v3izaq"),h(E,"for","set_step"),h(P,"type","tel"),h(P,"class","home__controls__control__input\n          home__controls__control__input--left svelte-v3izaq"),h(P,"id","set_step"),P.value=e[3],h(I,"class","home__controls__control__unit svelte-v3izaq"),h(w,"class","home__controls__control svelte-v3izaq"),h(x,"class","home__controls svelte-v3izaq"),h(p,"class","home__container svelte-v3izaq"),h(O,"class","home__result_container svelte-v3izaq"),h(n,"class","home svelte-v3izaq")},m(t,c,i){a(t,n,c),r(n,l),r(n,s),r(n,p),r(p,v),r(v,m),r(p,y),r(p,x),r(x,g),r(x,$),r(x,b),r(b,q),r(b,z),r(b,M),d(M,e[2]),r(b,C),r(b,R),r(x,k),r(x,w),r(w,E),r(w,N),r(w,P),r(w,A),r(w,I),r(x,j);for(let t=0;t<H.length;t+=1)H[t].m(x,null);r(n,L),r(n,O),r(O,T),i&&o(B),B=[f(M,"input",e[8]),f(P,"change",e[9])]},p(t,[e]){if(1&e&&h(m,"style",t[0]),4&e&&d(M,t[2]),8&e&&(P.value=t[3]),18&e){let n;for(G=t[1],n=0;n<G.length;n+=1){const o=S(t,G,n);H[n]?H[n].p(o,e):(H[n]=F(o),H[n].c(),H[n].m(x,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=G.length}1&e&&function(t,e){e=""+e,t.data!==e&&(t.data=e)}(T,t[0])},i:t,o:t,d(t){t&&c(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(H,t),o(B)}}}function T(t,e,n){let o="",l="",s=[],r=[],a=20,c=10,i=(t,e,o)=>{const l=Number(t.target.value);isNaN(l)||n(1,r[o][e]=l,r)};return t.$$.update=()=>{14&t.$$.dirty&&n(6,s=r.reduce((t,e,n)=>{if(!e.isRadius)return[...t,e];const o=0===n?r.length-1:n-1,l=n===r.length-1?0:n+1,s=function(t,e,n,o,l,s,r){const a=t.x-e.x,c=t.y-e.y,i=t.x-n.x,u=t.y-n.y,_=(Math.atan2(c,a)-Math.atan2(u,i))/2,f=Math.abs(Math.tan(_));let h=o/f;const d=I(a,c),p=I(i,u),v=Math.min(d,p);h>v&&(h=v,o=v*f);const m=j(t,h,d,a,c),y=j(t,h,p,i,u),x=2*t.x-m.x-y.x,g=2*t.y-m.y-y.y,$=I(x,g),b=j(t,I(h,o),$,x,g);let q=Math.atan2(m.y-b.y,m.x-b.x),z=Math.atan2(y.y-b.y,y.x-b.x),M=z-q;if(M<0){let t=q;q=z,z=t,M=-M}M>Math.PI&&(M=Math.PI-M);let C=P(q),R=P(z);if(M<0){C<0&&(C=360+C),R<0&&(R=360+R);let t=C;C=R,R=t}const k=[];for(let t=C;t<R;t+=r){const[e,n]=N(o,t,b.x,b.y);k.push({x:A(e,l),y:A(n,s),unit:"%"})}return[...k]}(e,r[l],r[o],a,400,200,c);return[...t,...s]},[])),64&t.$$.dirty&&n(5,l=s.map(L).join(",")),32&t.$$.dirty&&n(0,o=`clip-path: polygon(${l})`)},n(1,r=[{x:0,y:40,isRadius:!0,unit:"px"},{x:400,y:0,isRadius:!0,unit:"px"},{x:400,y:200,isRadius:!0,unit:"px"},{x:0,y:160,isRadius:!0,unit:"px"}]),[o,r,a,c,i,l,s,[],function(){a=this.value,n(2,a)},t=>n(3,c=Number(t.target.value)),(t,e)=>i(e,"x",t),(t,e)=>i(e,"y",t),function(t){r[t].isRadius=this.checked,n(1,r)}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){super(),E(this,t,T,O,s,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
